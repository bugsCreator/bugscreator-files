<h1 class="text-2xl font-semibold mb-4">Manage Users</h1>

<div class="grid md:grid-cols-2 gap-6">
  <form class="bg-white p-6 shadow rounded" method="post" action="/admin/users">
    <h2 class="text-lg font-medium mb-3">Create User</h2>
    <div class="mb-3">
      <label class="block text-sm">Username</label>
      <input class="border w-full p-2 rounded" name="username" required />
    </div>
    <div class="mb-3">
      <label class="block text-sm">Email</label>
      <input type="email" class="border w-full p-2 rounded" name="email" required />
    </div>
    <div class="mb-3">
      <label class="block text-sm">Password</label>
      <input type="password" class="border w-full p-2 rounded" name="password" required />
    </div>
    <div class="mb-4">
      <label class="block text-sm">Role</label>
      <select name="role" class="border w-full p-2 rounded">
        <option value="user">User</option>
        <option value="admin">Admin</option>
      </select>
    </div>
    <button class="bg-blue-600 text-white px-4 py-2 rounded">Create</button>
  </form>

  <div class="bg-white p-6 shadow rounded">
    <h2 class="text-lg font-medium mb-3">Existing Users</h2>
    <% if (!users || users.length === 0) { %>
      <p class="text-gray-600">No users.</p>
    <% } else { %>
      <ul class="divide-y">
        <% users.forEach(u => { %>
          <li class="py-3 flex items-center justify-between">
            <div>
              <div class="font-medium"><%= u.username %> <span class="text-xs text-gray-500">(<%= u.email %>)</span></div>
                <div class="text-xs text-gray-500">Role: <span class="<%= u.role === 'admin' ? 'text-red-600' : '' %>"><%= u.role %></span> â€¢ Created: <%= new Date(u.createdAt).toLocaleString() %></div>
            </div>
          </li>
        <% }) %>
      </ul>
    <% } %>
  </div>
</div>
